{"version":3,"file":"static/js/875.ad0dd99c.chunk.js","mappings":"iOAqDA,UAhDoB,WAClB,OAAsCA,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAqBJ,EAAAA,EAAAA,UAAS,MAArBK,GAAT,eACA,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAP,eAwBA,OApBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,6FACEJ,GAAa,GADf,mBAG2BK,EAAAA,EAAAA,IAAU,YAAD,OAAaF,IAHjD,mBAGYG,EAHZ,EAGYA,KAHZ,0CAKaC,EAAAA,EAAAA,IAAa,iCAL1B,OAOIT,EAAeQ,GAPnB,kDASIL,EAAS,EAAD,IATZ,yBAWID,GAAa,GAXjB,8EADc,uBAAC,WAAD,wBAedQ,EACD,GAAE,IAEHC,QAAQC,IAAIb,IAGV,iCACE,SAAC,IAAD,CAAKc,MAAM,qBAAqBC,YAAY,sBAC5C,yCACA,yBAC2B,KAAb,OAAXf,QAAW,IAAXA,OAAA,EAAAA,EAAagB,SAAiBd,EAG7BF,EAAYiB,KAAI,SAAAC,GAAI,OAClB,4BACE,uBAAIA,EAAKC,QACT,gBAAKC,IAjCI,iCAiCgBF,EAAKG,OAAO,GAAIC,IAAKJ,EAAKC,SAF3CD,EAAKK,IADG,KAFpB,mEAYT,C,sHC9CKC,EAAW,4B,SAGFhB,EAAU,GAAVA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,C,aAAf,O,oBAAA,WAAyBiB,GAAzB,8EACQC,EAAgBC,EAAAA,EAAAA,OAAa,CACjCC,QAAQ,GAAD,OAAKJ,GAAL,OAAgBC,GACvBI,QAAS,CACP,eAAgB,mBAChB,8BAA+B,IAC/B,+BAAgC,MAChC,gCAAiC,mBAPvC,SAWeH,EAAcI,MAX7B,0GA8HAtB,EAAUuB,UAAY,CACpBN,WAAYO,IAAAA,OAAAA,YAIAA,IAAAA,OAAAA,WAIAA,IAAAA,OAAAA,WACFA,IAAAA,OAAAA,U","sources":["pages/Catalog.jsx","services/APIservice.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { SEO } from 'utils/SEO';\nimport { fetchData } from 'services/APIservice';\nimport { useSearchParams } from 'react-router-dom';\nimport { onFetchError } from 'components/helpers/Messages/NotifyMessages';\nconst CatalogPage = () => {\n  const [listOfGoods, setListOfGoods] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [, setError] = useState(null);\n  const [searchParams] = useSearchParams();\n\n  const BASE_URL_IMG = 'http://localhost:3030/uploads/';\n\n  useEffect(() => {\n    async function fetchListOfGoods() {\n      setIsLoading(true);\n      try {\n        const { data } = await fetchData(`/catalog?${searchParams}`);\n        if (!data) {\n          return onFetchError('Whoops, something went wrong');\n        }\n        setListOfGoods(data);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    fetchListOfGoods();\n  }, []);\n\n  console.log(listOfGoods);\n\n  return (\n    <>\n      <SEO title=\"HomeForest Catalog\" description=\"Catalog of goods\" />\n      <h3>CatalogPage</h3>\n      <div>\n        {listOfGoods?.length === 0 && !isLoading ? (\n          <h3>Whoops! Can&apost find anything...</h3>\n        ) : (\n          listOfGoods.map(item => (\n            <div key={item._id}>\n              <p>{item.name}</p>\n              <img src={BASE_URL_IMG + item.images[0]} alt={item.name} />\n            </div>\n          ))\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default CatalogPage;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\n// const { BASE_URL } = window.global;\n\nconst BASE_URL = 'http://localhost:3030/api';\n\n// pathParams\nasync function fetchData(pathParams) {\n  const axiosInstance = axios.create({\n    baseURL: `${BASE_URL}${pathParams}`, //${pathParams}\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET',\n      'Access-Control-Expose-Headers': 'Content-Range',\n    },\n  });\n\n  return await axiosInstance.get();\n}\n\n// async function fetchNotice(pathParams, body, file1, file2, file3) {\n//   const formData = new FormData();\n//   formData.append('category', body.category);\n//   formData.append('birthday', body.birthday);\n//   formData.append('typeofpet', body.typeofpet);\n//   formData.append('breed', body.breed);\n//   formData.append('size', body.size);\n//   formData.append('height', body.height);\n//   formData.append('weight', body.weight);\n//   formData.append('passport', body.passport);\n//   formData.append('sterilization', body.sterilization);\n//   formData.append('lives', body.lives);\n//   formData.append('comments', body.comments);\n//   formData.append('imageUrl', file1);\n//   file2 && formData.append('imageUrl_1', file2);\n//   file3 && formData.append('imageUrl_2', file3);\n//   formData.append('location', body.location);\n//   formData.append('name', body.name);\n//   body.price !== '' && formData.append('price', body.price);\n//   body.currency !== '' && formData.append('currency', body.currency);\n//   formData.append('sex', body.sex);\n//   formData.append('title', body.title);\n\n//   return axios.post(`${BASE_URL}${pathParams}`, formData, {\n//     headers: {\n//       'Content-Type': 'multipart/form-data',\n//       'Access-Control-Allow-Origin': '*',\n//       'Access-Control-Allow-Methods': 'GET,POST,PUT,PATCH,DELETE,OPTIONS',\n//     },\n//   });\n// }\n\n// async function fetchPetsUser(pathParams, body, file) {\n//   const formData = new FormData();\n//   formData.append('name', body.values.name);\n//   formData.append('date', body.values.data);\n//   formData.append('breed', body.values.breed);\n//   formData.append('comments', body.values.comments);\n//   formData.set('imageURL', file);\n\n//   return axios.post(`${BASE_URL}${pathParams}`, formData, {\n//     headers: {\n//       'Content-Type': 'multipart/form-data',\n//       'Access-Control-Allow-Origin': '*',\n//       'Access-Control-Allow-Methods': 'GET,POST,PUT,PATCH,DELETE,OPTIONS',\n//     },\n//   });\n// }\n\n// async function fetchPatchNotice(pathParams, body, file1, file2, file3) {\n//   const formData = new FormData();\n//   formData.append('birthday', body.birthday);\n//   formData.append('typeofpet', body.typeofpet);\n//   formData.append('category', body.category);\n//   formData.append('breed', body.breed);\n//   formData.append('size', body.size);\n//   formData.append('height', body.height);\n//   formData.append('weight', body.weight);\n//   formData.append('passport', body.passport);\n//   formData.append('sterilization', body.sterilization);\n//   formData.append('lives', body.lives);\n//   formData.append('comments', body.comments);\n//   file1 && formData.set('imageUrl', file1);\n//   file2 && formData.set('imageUrl_1', file2);\n//   file3 && formData.set('imageUrl_2', file3);\n//   formData.append('location', body.location);\n//   formData.append('name', body.name);\n//   body.price && formData.append('price', body.price);\n//   body.currency && formData.append('currency', body.currency);\n//   formData.append('sex', body.sex);\n//   formData.append('title', body.title);\n\n//   return axios.patch(`${BASE_URL}${pathParams}`, formData, {\n//     headers: {\n//       'Content-Type': 'multipart/form-data',\n//       'Access-Control-Allow-Origin': '*',\n//       'Access-Control-Allow-Methods': 'GET,POST,PUT,PATCH,DELETE,OPTIONS',\n//     },\n//   });\n// }\n\nasync function updateUserData(pathParams, body, file) {\n  const formData = new FormData();\n  file && formData.set('avatar', file);\n  formData.append('email', body.email);\n  formData.append('birthday', body.birthday);\n  formData.append('location', body.location);\n  formData.append('password', body.password);\n  formData.append('phone', body.phone);\n  formData.append('role', body.role);\n  formData.append('userName', body.userName);\n\n  return await axios.patch(`${BASE_URL}${pathParams}`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET,POST,PUT,PATCH,DELETE,OPTIONS',\n    },\n  });\n}\n\nasync function deleteData(pathParams) {\n  const formData = new FormData();\n  return axios.delete(`${BASE_URL}${pathParams}`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET,POST,PUT,PATCH,DELETE,OPTIONS',\n    },\n  });\n}\n\nfetchData.propTypes = {\n  pathParams: PropTypes.string.isRequired,\n};\n\ndeleteData.propTypes = {\n  pathParams: PropTypes.string.isRequired,\n};\n\nupdateUserData.propTypes = {\n  pathParams: PropTypes.string.isRequired,\n  formData: PropTypes.string.isRequired,\n};\n\nexport {\n  fetchData,\n  // fetchNotice,\n  // fetchPetsUser,\n  // fetchPatchNotice,\n  updateUserData,\n  deleteData,\n};\n"],"names":["useState","listOfGoods","setListOfGoods","isLoading","setIsLoading","setError","useSearchParams","searchParams","useEffect","fetchData","data","onFetchError","fetchListOfGoods","console","log","title","description","length","map","item","name","src","images","alt","_id","BASE_URL","pathParams","axiosInstance","axios","baseURL","headers","get","propTypes","PropTypes"],"sourceRoot":""}